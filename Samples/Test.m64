struct Bitmap
{
	width: Int32;
	height: Int32;

	pixels:@UInt32;
	// use pixels:@[height, width]UInt32;
	// pixels[row][col];
}

func ClearBitmapToColor(bitmap:@Bitmap, color:UInt32)
{
	use bitmap;
	for row := 0 to < height
	{
		for col := 0 to < width
		{
			#pixel := (pixels + width * row + col)@;
			pixel = color;
		}
	}
}

func Draw(memory: @UInt32, width, height: Int32)
{
	bitmap: Bitmap;
	bitmap.width = width;
	bitmap.height = height;
	bitmap.pixels = memory;

	ClearBitmapToColor(@bitmap, 0xFFFF00FF);
}